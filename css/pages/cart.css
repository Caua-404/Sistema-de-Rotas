/* ===== CART — estilos da página de checkout ===== */

/* Layout base */
.page-header { padding: 16px 16px 8px; }
.page-title  { font-weight: 800; font-size: 1.6rem; letter-spacing: .2px; }

.checkout-grid{
  display: grid;
  gap: 16px;
  grid-template-columns: 1.4fr .9fr;
  padding: 8px 16px 80px;
}

/* Cards */
.panel{
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--surface-2);
  border-radius: 16px;
  box-shadow: var(--shadow-md);
  padding: 14px;
  display: grid; gap: 10px;
  animation: fade-in .2s ease both;
}
.panel h3{ font-weight:800; margin: 4px 0 6px; }

/* Inputs */
.input,.select{
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--surface-2);
  border-radius: 12px;
  padding: .7rem .9rem;
}
.input::placeholder{ color: var(--muted); }
.row2{ display:grid; grid-template-columns: 1fr 160px; gap: 10px; }
.check{ display:flex; align-items:center; gap:.5rem; font-weight:600; }

/* Summary (direita) */
.summary{
  position: sticky;
  top: calc(var(--topbar-h,64px) + 12px);
  align-self: start;
}
.summary .lines{ display:grid; gap: 8px; }
.summary .line{
  display:flex; align-items:center; justify-content:space-between;
  gap: 12px; font-size: .98rem;
}
.summary .line .value{ font-variant-numeric: tabular-nums; }
.summary .line--muted{ color: var(--muted); }
.summary .line--total{
  margin-top: 6px; padding-top: 10px; border-top: 1px dashed var(--surface-2);
  font-size: 1.2rem; font-weight: 800;
}
.summary .pill{
  display:inline-flex; align-items:center; gap:.35rem;
  padding: .25rem .6rem; border-radius:999px;
  background: color-mix(in oklab, var(--primary-600) 18%, var(--surface));
  border: 1px solid var(--primary-600);
  color: var(--on-primary);
  font-size: .85rem; font-weight:700;
}
.summary .pill button{ all: unset; cursor:pointer; opacity:.9; }
.summary .pill button:hover{ opacity:1; text-decoration: underline; }

/* Skeleton carregando resumo */
.skel{
  position: relative; overflow: hidden; border-radius: 12px;
  background: color-mix(in oklab, var(--surface) 85%, var(--surface-2));
  height: 120px;
}
.skel::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
  animation: shimmer 1.2s infinite;
}
@keyframes shimmer{ 0%{ transform:translateX(-100%);} 100%{ transform:translateX(100%);} }
@keyframes fade-in{ from{opacity:0; transform: translateY(6px);} to{opacity:1; transform: none;} }

/* Bottom bar (mobile/desktop) */
.checkout-bottom{
  position: fixed;
  left: var(--sidebar-w,0); right: 0; bottom: 0;
  background: var(--surface);
  border-top: 1px solid var(--surface-2);
  box-shadow: 0 -8px 24px rgba(0,0,0,.18);
  padding: 10px 16px;
  display:flex; align-items:center; gap: 12px; justify-content:flex-end;
  z-index: 950;
}
.checkout-bottom .total{
  margin-right:auto; font-weight:800; letter-spacing:.2px;
  font-variant-numeric: tabular-nums;
}

/* Botão “confirmar” com estados */
#btn-place.is-disabled{ opacity:.5; pointer-events:none; }
#btn-place.is-loading{
  position: relative; color: transparent !important;
}
#btn-place.is-loading::after{
  content:"Processando…";
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  color: var(--on-primary);
}

/* Campos adicionais do cartão */
.pay-extra{ display:grid; gap:10px; }
.pay-row2{ display:grid; grid-template-columns: 1fr 120px; gap:10px; }

/* Toast simples */
.toast{
  position: fixed; right: 16px; bottom: 90px;
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--surface-2);
  box-shadow: var(--shadow-md);
  padding: .6rem .8rem; border-radius: 10px;
  z-index: 1200; animation: fade-in .15s ease both;
}

/* Tema */
:root,[data-bs-theme="light"],[data-bs-theme="dark"]{ color-scheme: light dark; }

/* Responsivo */
@media (max-width: 1024px){
  .checkout-grid{ grid-template-columns: 1fr; }
  .checkout-bottom{ left: 0; }
}
