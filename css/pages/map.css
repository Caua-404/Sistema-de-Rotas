/* Painel de status (mapa) */
.status{
  position:absolute; top:80px; right:24px; width:360px; max-width:calc(100vw - 48px);
  background:var(--surface); color:var(--text); border:1px solid var(--border); border-radius:var(--radius-lg);
  box-shadow:var(--shadow-2); z-index:2000;
  transition:transform .18s ease, opacity .18s ease, visibility .18s ease;
  will-change:transform, opacity;
}
.status.is-collapsed{ transform:translateY(8px) scale(.98); opacity:0; visibility:hidden; pointer-events:none; }
.status__title{
  display:flex; align-items:center; justify-content:space-between;
  padding:.75rem .9rem .25rem; margin:0; font-size:1rem; font-weight:800; color:var(--text);
}
.status__legend{
  display:flex; flex-wrap:wrap; align-items:center; gap:.5rem;
  list-style:none; margin:.35rem .75rem .5rem; padding:0; color:var(--muted);
}
.status__legend li{ margin:0; padding:0; }
.status__legend button{
  appearance:none; border:none; cursor:pointer;
  padding:.38rem .7rem; border-radius:999px; font-weight:600; font-size:.9rem; line-height:1;
  color:var(--text); background:var(--surface); border:1px solid var(--border);
  user-select:none;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease,
              background-color .15s ease, color .15s ease;
}
.status__legend button:hover{
  transform:translateY(-1px);
  box-shadow:0 8px 18px rgba(0,0,0,.18);
  border-color:color-mix(in oklab, var(--primary) 45%, var(--border));
  background:color-mix(in oklab, var(--surface) 86%, var(--primary) 14%);
}
.status__legend button.is-active{
  color:#fff; background:var(--primary); border-color:var(--primary);
  box-shadow:0 10px 24px rgba(0,0,0,.22);
}

/* Variações de card do domínio entregas */
.card--done{ background:var(--ok); color:#fff; }
.card--late{ background:color-mix(in oklab, var(--danger) 88%, black); color:#fff; }
.card--on, .card--warn{ background:var(--warn); color:#1b1b1b; }
.status__actions .pill{ margin-left:.35rem; }
.card__actions .pill{ background:#fff2; color:#fff; border-color:#fff5; }
:root[data-bs-theme="light"] .card__actions .pill{ background:#0002; color:#111; border-color:#0002; }

/* FAB específico do status ao lado do chat */
.fab.fab--status{ right:92px; bottom:24px; }

/* Waze / Provider switch */
.map--waze{ position:absolute; inset:0; }
.map--waze iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; }
.map-provider-switch{ position:absolute; top:12px; right:12px; display:flex; gap:.4rem; z-index:1200; }
.btnX--ghost{
  background:rgba(0,0,0,.30); color:#fff; border:1px solid rgba(255,255,255,.25);
  backdrop-filter:blur(6px); border-radius:999px; padding:.4rem .8rem;
}
:root[data-bs-theme="light"] .btnX--ghost{ background:rgba(255,255,255,.80); color:#111; border-color:rgba(0,0,0,.12); }
.map-provider-switch .is-active{ border-color:var(--primary); box-shadow:0 0 0 2px color-mix(in oklab, var(--primary) 30%, transparent); }

/* Leaflet abaixo dos FABs */
.leaflet-control-container{ z-index:1200; }
