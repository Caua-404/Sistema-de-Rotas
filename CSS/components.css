@layer components {
  /* ===== Logo ===== */
  .logo{
    display:flex; align-items:center; font-weight:900;
    font-size:1.5rem; /* maior */
    letter-spacing:.3px; color:var(--primary);
  }
  .logo__left{ color:var(--primary); }
  .logo__gap{ width:28px; display:inline-block; }
  .logo__right{ color:var(--primary); }  /* agora igual à esquerda */

  /* ===== Navegação lateral ===== */
  .nav{
    margin-top: var(--space-4);
    display:grid; gap: var(--space-2);
    padding-right: var(--space-2);      /* afasta um pouco da borda */
  }
  .nav__item{
    width:100%; text-align:left; color:#fff;
    min-height:52px;
    padding:.85rem 1rem;
    border-radius:10px;                 /* <-- arredondamento solicitado */
    margin: 0 .25rem;                   /* afasta das laterais da sidebar */
    border:1px solid var(--border);
    background: var(--surface);
    display:flex; align-items:center; gap:.65rem;

    /* Hover fluido */
    transition:
      background-color .22s cubic-bezier(.22, .61, .36, 1),
      border-color .22s cubic-bezier(.22, .61, .36, 1),
      transform .18s cubic-bezier(.22, .61, .36, 1),
      box-shadow .18s ease;
    will-change: transform;
  }
  .nav__item:hover{
    border-color: color-mix(in oklab, var(--primary) 50%, var(--border));
    background: color-mix(in oklab, var(--surface) 82%, var(--primary) 18%);
    transform: translateY(-1px);
  }
  .nav__item.is-active{
    background: var(--primary);
    border-color: var(--primary);
    color:#fff;
    box-shadow: 0 6px 16px rgba(0,0,0,.24); /* glow suave, sem “queimar” a vista */
  }
  .nav__icon{
    width:20px; text-align:center; color:#fff !important;  /* sempre branco */
  }
  .nav__label{ color:#fff; }

  /* ===== Busca + Autocomplete ===== */
  .search{ position:relative; flex:1; }
  .search__input{
    width:100%; height:42px; border-radius:999px;
    border:1px solid var(--border);
    background:#fff; color:#111; padding:0 1rem;
  }
  [data-bs-theme="dark"] .search__input{ background:#EFEFEF; }
  .search__input::placeholder{ color:#666; }

  .search__suggestions{
    position:absolute; top:46px; left:0; right:0;
    background:var(--surface); color:var(--text);
    border:1px solid var(--border); border-radius:10px;
    margin:0; padding:.35rem 0; list-style:none; z-index:10;
    max-height:260px; overflow:auto; display:none;
  }
  .search__suggestions.is-open{ display:block; }
  .search__suggestions li{ padding:.55rem .9rem; cursor:pointer; }
  .search__suggestions li:hover,
  .search__suggestions li[aria-selected="true"]{
    background: color-mix(in oklab, var(--surface) 80%, var(--primary) 20%);
  }

  /* ===== Status + cards ===== */
  .status__title{ padding:var(--space-3) var(--space-3) 0; margin:0; font-size:1rem; color:var(--text); }
  .status__legend{
    display:grid; grid-template-columns:1fr auto; gap:.4rem .75rem;
    list-style:none; margin:.5rem var(--space-3) 0; padding:0; color:var(--muted);
  }
  .status__legend b{ color:var(--text); }
  .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:.5rem; }
  .dot--danger{ background:var(--danger); }
  .dot--ok{ background:var(--ok); }
  .dot--warn{ background:var(--warn); }

  .cards{ list-style:none; padding:var(--space-3); margin:0; display:grid; gap:.75rem; }
  .card{
    background:var(--primary); color:#fff;
    border-radius: var(--radius); box-shadow: var(--shadow-1);
    padding:.75rem .9rem; display:grid; gap:.25rem; border:1px solid transparent;
    content-visibility:auto;
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .card:hover{ transform: translateY(-2px); box-shadow: 0 14px 32px rgba(0,0,0,.28); }
  .card--ok{ background:var(--ok); }
  .card--warn{ background:var(--warn); color:#1b1b1b; }
  .card__title{ font-weight:700; }
  .card__meta{ opacity:.9; }

  /* ===== Switch de tema (cápsula bem arredondada + knob) ===== */
  .theme-switch{
    position:relative; width:60px; height:32px;
    border-radius:999px;                  /* cápsula bem arredondada */
    border:1px solid var(--border);
    background: color-mix(in oklab, var(--surface) 85%, var(--primary) 15%);
    padding:0; display:inline-block;
    transition: background-color .2s ease, border-color .2s ease;
  }
  .theme-switch__knob{
    position:absolute; top:3px; left:3px;
    width:26px; height:26px; border-radius:50%;
    background:#fff; box-shadow: 0 1px 3px rgba(0,0,0,.25);
    transition: transform .2s cubic-bezier(.22, .61, .36, 1);
  }
  /* knob à direita quando claro */
  [data-bs-theme="light"] .theme-switch__knob{ transform: translateX(28px); }

  /* ===== FAB ===== */
  .fab{
    position:fixed; right:24px; bottom:24px; width:56px; height:56px;
    border-radius:50%; background:var(--primary); color:#fff; box-shadow:var(--shadow-2);
  }

  /* Acessibilidade: foco visível */
  .nav__item:focus-visible,
  .btn:focus-visible,
  .theme-switch:focus-visible{
    outline:2px solid color-mix(in oklab, var(--primary) 80%, white);
    outline-offset:2px;
  }

  @media (max-width:600px){
    .search__input{ height:40px; }
  }
}

/* Bloco do usuário no topo (avatar acima da saudação) */
.userbox{
  display:flex;
  flex-direction:column;   /* avatar em cima, saudação embaixo */
  align-items:center;      /* centraliza ambos no eixo horizontal */
  gap:.35rem;
  margin-left:.75rem;
}


/* Avatar com anel da cor da marca */
.userbox__avatar{
  width:42px; height:42px;
  border-radius:50%;
  object-fit:cover;
  border:2px solid color-mix(in oklab, var(--primary) 85%, transparent);
  box-shadow:0 2px 10px rgba(0,0,0,.22);
  background:#ddd;                    /* fallback se a imagem falhar */
}

/* Saudação coesa com o tema */
.greet{
  font-size:.95rem;
  color:var(--text);
}
.greet strong{ color:var(--primary); }
